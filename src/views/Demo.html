<html xmlns:v="urn:schemas-microsoft-com:vml"
      xmlns:o="urn:schemas-microsoft-com:office:office"
      xmlns:w="urn:schemas-microsoft-com:office:word"
      xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
      xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 14">
<meta name=Originator content="Microsoft Word 14">
<link rel=File-List href="googledoc_files/filelist.xml">
<!--[if gte mso 9]><xml>
    <o:DocumentProperties>
        <o:Author>Josh</o:Author>
        <o:LastAuthor>Josh</o:LastAuthor>
        <o:Revision>2</o:Revision>
        <o:TotalTime>1</o:TotalTime>
        <o:Created>2014-10-19T14:42:00Z</o:Created>
        <o:LastSaved>2014-10-19T14:42:00Z</o:LastSaved>
        <o:Pages>3</o:Pages>
        <o:Words>2212</o:Words>
        <o:Characters>12610</o:Characters>
        <o:Company>Hewlett-Packard</o:Company>
        <o:Lines>105</o:Lines>
        <o:Paragraphs>29</o:Paragraphs>
        <o:CharactersWithSpaces>14793</o:CharactersWithSpaces>
        <o:Version>14.00</o:Version>
    </o:DocumentProperties>
    <o:OfficeDocumentSettings>
        <o:AllowPNG/>
    </o:OfficeDocumentSettings>
</xml><![endif]-->
<link rel=themeData href="googledoc_files/themedata.thmx">
<link rel=colorSchemeMapping href="googledoc_files/colorschememapping.xml">
<!--[if gte mso 9]><xml>
    <w:WordDocument>
        <w:SpellingState>Clean</w:SpellingState>
        <w:GrammarState>Clean</w:GrammarState>
        <w:TrackMoves>false</w:TrackMoves>
        <w:TrackFormatting/>
        <w:PunctuationKerning/>
        <w:ValidateAgainstSchemas/>
        <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
        <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
        <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
        <w:DoNotPromoteQF/>
        <w:LidThemeOther>EN-US</w:LidThemeOther>
        <w:LidThemeAsian>X-NONE</w:LidThemeAsian>
        <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
        <w:Compatibility>
            <w:BreakWrappedTables/>
            <w:SnapToGridInCell/>
            <w:WrapTextWithPunct/>
            <w:UseAsianBreakRules/>
            <w:DontGrowAutofit/>
            <w:SplitPgBreakAndParaMark/>
            <w:EnableOpenTypeKerning/>
            <w:DontFlipMirrorIndents/>
            <w:OverrideTableStyleHps/>
        </w:Compatibility>
        <m:mathPr>
            <m:mathFont m:val="Cambria Math"/>
            <m:brkBin m:val="before"/>
            <m:brkBinSub m:val="&#45;-"/>
            <m:smallFrac m:val="off"/>
            <m:dispDef/>
            <m:lMargin m:val="0"/>
            <m:rMargin m:val="0"/>
            <m:defJc m:val="centerGroup"/>
            <m:wrapIndent m:val="1440"/>
            <m:intLim m:val="subSup"/>
            <m:naryLim m:val="undOvr"/>
        </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
<w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="true"
                DefSemiHidden="true" DefQFormat="false" DefPriority="99"
                LatentStyleCount="267">
<w:LsdException Locked="false" Priority="0" SemiHidden="false"
                UnhideWhenUsed="false" QFormat="true" Name="Normal"/>
<w:LsdException Locked="false" Priority="9" SemiHidden="false"
                UnhideWhenUsed="false" QFormat="true" Name="heading 1"/>
<w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 2"/>
<w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 3"/>
<w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 4"/>
<w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 5"/>
<w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 6"/>
<w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 7"/>
<w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 8"/>
<w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 9"/>
<w:LsdException Locked="false" Priority="39" Name="toc 1"/>
<w:LsdException Locked="false" Priority="39" Name="toc 2"/>
<w:LsdException Locked="false" Priority="39" Name="toc 3"/>
<w:LsdException Locked="false" Priority="39" Name="toc 4"/>
<w:LsdException Locked="false" Priority="39" Name="toc 5"/>
<w:LsdException Locked="false" Priority="39" Name="toc 6"/>
<w:LsdException Locked="false" Priority="39" Name="toc 7"/>
<w:LsdException Locked="false" Priority="39" Name="toc 8"/>
<w:LsdException Locked="false" Priority="39" Name="toc 9"/>
<w:LsdException Locked="false" Priority="35" QFormat="true" Name="caption"/>
<w:LsdException Locked="false" Priority="10" SemiHidden="false"
                UnhideWhenUsed="false" QFormat="true" Name="Title"/>
<w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font"/>
<w:LsdException Locked="false" Priority="11" SemiHidden="false"
                UnhideWhenUsed="false" QFormat="true" Name="Subtitle"/>
<w:LsdException Locked="false" Priority="22" SemiHidden="false"
                UnhideWhenUsed="false" QFormat="true" Name="Strong"/>
<w:LsdException Locked="false" Priority="20" SemiHidden="false"
                UnhideWhenUsed="false" QFormat="true" Name="Emphasis"/>
<w:LsdException Locked="false" Priority="59" SemiHidden="false"
                UnhideWhenUsed="false" Name="Table Grid"/>
<w:LsdException Locked="false" UnhideWhenUsed="false" Name="Placeholder Text"/>
<w:LsdException Locked="false" Priority="1" SemiHidden="false"
                UnhideWhenUsed="false" QFormat="true" Name="No Spacing"/>
<w:LsdException Locked="false" Priority="60" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light Shading"/>
<w:LsdException Locked="false" Priority="61" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light List"/>
<w:LsdException Locked="false" Priority="62" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light Grid"/>
<w:LsdException Locked="false" Priority="63" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Shading 1"/>
<w:LsdException Locked="false" Priority="64" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Shading 2"/>
<w:LsdException Locked="false" Priority="65" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium List 1"/>
<w:LsdException Locked="false" Priority="66" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium List 2"/>
<w:LsdException Locked="false" Priority="67" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 1"/>
<w:LsdException Locked="false" Priority="68" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 2"/>
<w:LsdException Locked="false" Priority="69" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 3"/>
<w:LsdException Locked="false" Priority="70" SemiHidden="false"
                UnhideWhenUsed="false" Name="Dark List"/>
<w:LsdException Locked="false" Priority="71" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful Shading"/>
<w:LsdException Locked="false" Priority="72" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful List"/>
<w:LsdException Locked="false" Priority="73" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful Grid"/>
<w:LsdException Locked="false" Priority="60" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light Shading Accent 1"/>
<w:LsdException Locked="false" Priority="61" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light List Accent 1"/>
<w:LsdException Locked="false" Priority="62" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light Grid Accent 1"/>
<w:LsdException Locked="false" Priority="63" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Shading 1 Accent 1"/>
<w:LsdException Locked="false" Priority="64" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Shading 2 Accent 1"/>
<w:LsdException Locked="false" Priority="65" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium List 1 Accent 1"/>
<w:LsdException Locked="false" UnhideWhenUsed="false" Name="Revision"/>
<w:LsdException Locked="false" Priority="34" SemiHidden="false"
                UnhideWhenUsed="false" QFormat="true" Name="List Paragraph"/>
<w:LsdException Locked="false" Priority="29" SemiHidden="false"
                UnhideWhenUsed="false" QFormat="true" Name="Quote"/>
<w:LsdException Locked="false" Priority="30" SemiHidden="false"
                UnhideWhenUsed="false" QFormat="true" Name="Intense Quote"/>
<w:LsdException Locked="false" Priority="66" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium List 2 Accent 1"/>
<w:LsdException Locked="false" Priority="67" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 1 Accent 1"/>
<w:LsdException Locked="false" Priority="68" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 2 Accent 1"/>
<w:LsdException Locked="false" Priority="69" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 3 Accent 1"/>
<w:LsdException Locked="false" Priority="70" SemiHidden="false"
                UnhideWhenUsed="false" Name="Dark List Accent 1"/>
<w:LsdException Locked="false" Priority="71" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful Shading Accent 1"/>
<w:LsdException Locked="false" Priority="72" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful List Accent 1"/>
<w:LsdException Locked="false" Priority="73" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful Grid Accent 1"/>
<w:LsdException Locked="false" Priority="60" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light Shading Accent 2"/>
<w:LsdException Locked="false" Priority="61" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light List Accent 2"/>
<w:LsdException Locked="false" Priority="62" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light Grid Accent 2"/>
<w:LsdException Locked="false" Priority="63" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Shading 1 Accent 2"/>
<w:LsdException Locked="false" Priority="64" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Shading 2 Accent 2"/>
<w:LsdException Locked="false" Priority="65" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium List 1 Accent 2"/>
<w:LsdException Locked="false" Priority="66" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium List 2 Accent 2"/>
<w:LsdException Locked="false" Priority="67" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 1 Accent 2"/>
<w:LsdException Locked="false" Priority="68" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 2 Accent 2"/>
<w:LsdException Locked="false" Priority="69" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 3 Accent 2"/>
<w:LsdException Locked="false" Priority="70" SemiHidden="false"
                UnhideWhenUsed="false" Name="Dark List Accent 2"/>
<w:LsdException Locked="false" Priority="71" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful Shading Accent 2"/>
<w:LsdException Locked="false" Priority="72" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful List Accent 2"/>
<w:LsdException Locked="false" Priority="73" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful Grid Accent 2"/>
<w:LsdException Locked="false" Priority="60" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light Shading Accent 3"/>
<w:LsdException Locked="false" Priority="61" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light List Accent 3"/>
<w:LsdException Locked="false" Priority="62" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light Grid Accent 3"/>
<w:LsdException Locked="false" Priority="63" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Shading 1 Accent 3"/>
<w:LsdException Locked="false" Priority="64" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Shading 2 Accent 3"/>
<w:LsdException Locked="false" Priority="65" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium List 1 Accent 3"/>
<w:LsdException Locked="false" Priority="66" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium List 2 Accent 3"/>
<w:LsdException Locked="false" Priority="67" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 1 Accent 3"/>
<w:LsdException Locked="false" Priority="68" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 2 Accent 3"/>
<w:LsdException Locked="false" Priority="69" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 3 Accent 3"/>
<w:LsdException Locked="false" Priority="70" SemiHidden="false"
                UnhideWhenUsed="false" Name="Dark List Accent 3"/>
<w:LsdException Locked="false" Priority="71" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful Shading Accent 3"/>
<w:LsdException Locked="false" Priority="72" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful List Accent 3"/>
<w:LsdException Locked="false" Priority="73" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful Grid Accent 3"/>
<w:LsdException Locked="false" Priority="60" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light Shading Accent 4"/>
<w:LsdException Locked="false" Priority="61" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light List Accent 4"/>
<w:LsdException Locked="false" Priority="62" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light Grid Accent 4"/>
<w:LsdException Locked="false" Priority="63" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Shading 1 Accent 4"/>
<w:LsdException Locked="false" Priority="64" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Shading 2 Accent 4"/>
<w:LsdException Locked="false" Priority="65" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium List 1 Accent 4"/>
<w:LsdException Locked="false" Priority="66" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium List 2 Accent 4"/>
<w:LsdException Locked="false" Priority="67" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 1 Accent 4"/>
<w:LsdException Locked="false" Priority="68" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 2 Accent 4"/>
<w:LsdException Locked="false" Priority="69" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 3 Accent 4"/>
<w:LsdException Locked="false" Priority="70" SemiHidden="false"
                UnhideWhenUsed="false" Name="Dark List Accent 4"/>
<w:LsdException Locked="false" Priority="71" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful Shading Accent 4"/>
<w:LsdException Locked="false" Priority="72" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful List Accent 4"/>
<w:LsdException Locked="false" Priority="73" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful Grid Accent 4"/>
<w:LsdException Locked="false" Priority="60" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light Shading Accent 5"/>
<w:LsdException Locked="false" Priority="61" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light List Accent 5"/>
<w:LsdException Locked="false" Priority="62" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light Grid Accent 5"/>
<w:LsdException Locked="false" Priority="63" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Shading 1 Accent 5"/>
<w:LsdException Locked="false" Priority="64" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Shading 2 Accent 5"/>
<w:LsdException Locked="false" Priority="65" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium List 1 Accent 5"/>
<w:LsdException Locked="false" Priority="66" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium List 2 Accent 5"/>
<w:LsdException Locked="false" Priority="67" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 1 Accent 5"/>
<w:LsdException Locked="false" Priority="68" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 2 Accent 5"/>
<w:LsdException Locked="false" Priority="69" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 3 Accent 5"/>
<w:LsdException Locked="false" Priority="70" SemiHidden="false"
                UnhideWhenUsed="false" Name="Dark List Accent 5"/>
<w:LsdException Locked="false" Priority="71" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful Shading Accent 5"/>
<w:LsdException Locked="false" Priority="72" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful List Accent 5"/>
<w:LsdException Locked="false" Priority="73" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful Grid Accent 5"/>
<w:LsdException Locked="false" Priority="60" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light Shading Accent 6"/>
<w:LsdException Locked="false" Priority="61" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light List Accent 6"/>
<w:LsdException Locked="false" Priority="62" SemiHidden="false"
                UnhideWhenUsed="false" Name="Light Grid Accent 6"/>
<w:LsdException Locked="false" Priority="63" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Shading 1 Accent 6"/>
<w:LsdException Locked="false" Priority="64" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Shading 2 Accent 6"/>
<w:LsdException Locked="false" Priority="65" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium List 1 Accent 6"/>
<w:LsdException Locked="false" Priority="66" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium List 2 Accent 6"/>
<w:LsdException Locked="false" Priority="67" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 1 Accent 6"/>
<w:LsdException Locked="false" Priority="68" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 2 Accent 6"/>
<w:LsdException Locked="false" Priority="69" SemiHidden="false"
                UnhideWhenUsed="false" Name="Medium Grid 3 Accent 6"/>
<w:LsdException Locked="false" Priority="70" SemiHidden="false"
                UnhideWhenUsed="false" Name="Dark List Accent 6"/>
<w:LsdException Locked="false" Priority="71" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful Shading Accent 6"/>
<w:LsdException Locked="false" Priority="72" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful List Accent 6"/>
<w:LsdException Locked="false" Priority="73" SemiHidden="false"
                UnhideWhenUsed="false" Name="Colorful Grid Accent 6"/>
<w:LsdException Locked="false" Priority="19" SemiHidden="false"
                UnhideWhenUsed="false" QFormat="true" Name="Subtle Emphasis"/>
<w:LsdException Locked="false" Priority="21" SemiHidden="false"
                UnhideWhenUsed="false" QFormat="true" Name="Intense Emphasis"/>
<w:LsdException Locked="false" Priority="31" SemiHidden="false"
                UnhideWhenUsed="false" QFormat="true" Name="Subtle Reference"/>
<w:LsdException Locked="false" Priority="32" SemiHidden="false"
                UnhideWhenUsed="false" QFormat="true" Name="Intense Reference"/>
<w:LsdException Locked="false" Priority="33" SemiHidden="false"
                UnhideWhenUsed="false" QFormat="true" Name="Book Title"/>
<w:LsdException Locked="false" Priority="37" Name="Bibliography"/>
<w:LsdException Locked="false" Priority="39" QFormat="true" Name="TOC Heading"/>
</w:LatentStyles>
</xml><![endif]-->
<style>
<!--
/* Font Definitions */
@font-face
{font-family:Wingdings;
    panose-1:5 0 0 0 0 0 0 0 0 0;
    mso-font-charset:2;
    mso-generic-font-family:auto;
    mso-font-pitch:variable;
    mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
{font-family:Wingdings;
    panose-1:5 0 0 0 0 0 0 0 0 0;
    mso-font-charset:2;
    mso-generic-font-family:auto;
    mso-font-pitch:variable;
    mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
{font-family:Calibri;
    panose-1:2 15 5 2 2 2 4 3 2 4;
    mso-font-charset:0;
    mso-generic-font-family:swiss;
    mso-font-pitch:variable;
    mso-font-signature:-520092929 1073786111 9 0 415 0;}
@font-face
{font-family:"Trebuchet MS";
    panose-1:2 11 6 3 2 2 2 2 2 4;
    mso-font-charset:0;
    mso-generic-font-family:swiss;
    mso-font-pitch:variable;
    mso-font-signature:647 0 0 0 159 0;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
{mso-style-unhide:no;
    mso-style-qformat:yes;
    mso-style-parent:"";
    margin-top:0in;
    margin-right:0in;
    margin-bottom:10.0pt;
    margin-left:0in;
    line-height:115%;
    mso-pagination:widow-orphan;
    font-size:11.0pt;
    font-family:"Calibri","sans-serif";
    mso-ascii-font-family:Calibri;
    mso-ascii-theme-font:minor-latin;
    mso-fareast-font-family:Calibri;
    mso-fareast-theme-font:minor-latin;
    mso-hansi-font-family:Calibri;
    mso-hansi-theme-font:minor-latin;
    mso-bidi-font-family:"Times New Roman";
    mso-bidi-theme-font:minor-bidi;}
h1
{mso-style-priority:9;
    mso-style-unhide:no;
    mso-style-qformat:yes;
    mso-style-link:"Heading 1 Char";
    mso-margin-top-alt:auto;
    margin-right:0in;
    mso-margin-bottom-alt:auto;
    margin-left:0in;
    mso-pagination:widow-orphan;
    mso-outline-level:1;
    font-size:24.0pt;
    font-family:"Times New Roman","serif";
    mso-fareast-font-family:"Times New Roman";
    font-weight:bold;}
h2
{mso-style-priority:9;
    mso-style-unhide:no;
    mso-style-qformat:yes;
    mso-style-link:"Heading 2 Char";
    mso-margin-top-alt:auto;
    margin-right:0in;
    mso-margin-bottom-alt:auto;
    margin-left:0in;
    mso-pagination:widow-orphan;
    mso-outline-level:2;
    font-size:18.0pt;
    font-family:"Times New Roman","serif";
    mso-fareast-font-family:"Times New Roman";
    font-weight:bold;}
h3
{mso-style-priority:9;
    mso-style-unhide:no;
    mso-style-qformat:yes;
    mso-style-link:"Heading 3 Char";
    mso-margin-top-alt:auto;
    margin-right:0in;
    mso-margin-bottom-alt:auto;
    margin-left:0in;
    mso-pagination:widow-orphan;
    mso-outline-level:3;
    font-size:13.5pt;
    font-family:"Times New Roman","serif";
    mso-fareast-font-family:"Times New Roman";
    font-weight:bold;}
p
{mso-style-noshow:yes;
    mso-style-priority:99;
    mso-margin-top-alt:auto;
    margin-right:0in;
    mso-margin-bottom-alt:auto;
    margin-left:0in;
    mso-pagination:widow-orphan;
    font-size:12.0pt;
    font-family:"Times New Roman","serif";
    mso-fareast-font-family:"Times New Roman";}
span.Heading1Char
{mso-style-name:"Heading 1 Char";
    mso-style-priority:9;
    mso-style-unhide:no;
    mso-style-locked:yes;
    mso-style-link:"Heading 1";
    mso-ansi-font-size:24.0pt;
    mso-bidi-font-size:24.0pt;
    font-family:"Times New Roman","serif";
    mso-ascii-font-family:"Times New Roman";
    mso-fareast-font-family:"Times New Roman";
    mso-hansi-font-family:"Times New Roman";
    mso-bidi-font-family:"Times New Roman";
    mso-font-kerning:18.0pt;
    font-weight:bold;}
span.Heading2Char
{mso-style-name:"Heading 2 Char";
    mso-style-priority:9;
    mso-style-unhide:no;
    mso-style-locked:yes;
    mso-style-link:"Heading 2";
    mso-ansi-font-size:18.0pt;
    mso-bidi-font-size:18.0pt;
    font-family:"Times New Roman","serif";
    mso-ascii-font-family:"Times New Roman";
    mso-fareast-font-family:"Times New Roman";
    mso-hansi-font-family:"Times New Roman";
    mso-bidi-font-family:"Times New Roman";
    font-weight:bold;}
span.Heading3Char
{mso-style-name:"Heading 3 Char";
    mso-style-priority:9;
    mso-style-unhide:no;
    mso-style-locked:yes;
    mso-style-link:"Heading 3";
    mso-ansi-font-size:13.5pt;
    mso-bidi-font-size:13.5pt;
    font-family:"Times New Roman","serif";
    mso-ascii-font-family:"Times New Roman";
    mso-fareast-font-family:"Times New Roman";
    mso-hansi-font-family:"Times New Roman";
    mso-bidi-font-family:"Times New Roman";
    font-weight:bold;}
span.SpellE
{mso-style-name:"";
    mso-spl-e:yes;}
span.GramE
{mso-style-name:"";
    mso-gram-e:yes;}
.MsoChpDefault
{mso-style-type:export-only;
    mso-default-props:yes;
    font-family:"Calibri","sans-serif";
    mso-ascii-font-family:Calibri;
    mso-ascii-theme-font:minor-latin;
    mso-fareast-font-family:Calibri;
    mso-fareast-theme-font:minor-latin;
    mso-hansi-font-family:Calibri;
    mso-hansi-theme-font:minor-latin;
    mso-bidi-font-family:"Times New Roman";
    mso-bidi-theme-font:minor-bidi;}
.MsoPapDefault
{mso-style-type:export-only;
    margin-bottom:10.0pt;
    line-height:115%;}
@page WordSection1
{size:8.5in 11.0in;
    margin:1.0in 1.0in 1.0in 1.0in;

    mso-header-margin:.5in;
    mso-footer-margin:.5in;
    mso-paper-source:0;}
div.WordSection1
{page:WordSection1;
    width:80%;}
/* List Definitions */
@list l0
{mso-list-id:2074890411;
    mso-list-template-ids:316166674;}
@list l0:level1
{mso-level-number-format:bullet;
    mso-level-text:\F0B7;
    mso-level-tab-stop:.5in;
    mso-level-number-position:left;
    text-indent:-.25in;
    mso-ansi-font-size:10.0pt;
    font-family:Symbol;}
@list l0:level2
{mso-level-number-format:bullet;
    mso-level-text:o;
    mso-level-tab-stop:1.0in;
    mso-level-number-position:left;
    text-indent:-.25in;
    mso-ansi-font-size:10.0pt;
    font-family:"Courier New";
    mso-bidi-font-family:"Times New Roman";}
@list l0:level3
{mso-level-number-format:bullet;
    mso-level-text:\F0A7;
    mso-level-tab-stop:1.5in;
    mso-level-number-position:left;
    text-indent:-.25in;
    mso-ansi-font-size:10.0pt;
    font-family:Wingdings;}
@list l0:level4
{mso-level-number-format:bullet;
    mso-level-text:\F0A7;
    mso-level-tab-stop:2.0in;
    mso-level-number-position:left;
    text-indent:-.25in;
    mso-ansi-font-size:10.0pt;
    font-family:Wingdings;}
@list l0:level5
{mso-level-number-format:bullet;
    mso-level-text:\F0A7;
    mso-level-tab-stop:2.5in;
    mso-level-number-position:left;
    text-indent:-.25in;
    mso-ansi-font-size:10.0pt;
    font-family:Wingdings;}
@list l0:level6
{mso-level-number-format:bullet;
    mso-level-text:\F0A7;
    mso-level-tab-stop:3.0in;
    mso-level-number-position:left;
    text-indent:-.25in;
    mso-ansi-font-size:10.0pt;
    font-family:Wingdings;}
@list l0:level7
{mso-level-number-format:bullet;
    mso-level-text:\F0A7;
    mso-level-tab-stop:3.5in;
    mso-level-number-position:left;
    text-indent:-.25in;
    mso-ansi-font-size:10.0pt;
    font-family:Wingdings;}
@list l0:level8
{mso-level-number-format:bullet;
    mso-level-text:\F0A7;
    mso-level-tab-stop:4.0in;
    mso-level-number-position:left;
    text-indent:-.25in;
    mso-ansi-font-size:10.0pt;
    font-family:Wingdings;}
@list l0:level9
{mso-level-number-format:bullet;
    mso-level-text:\F0A7;
    mso-level-tab-stop:4.5in;
    mso-level-number-position:left;
    text-indent:-.25in;
    mso-ansi-font-size:10.0pt;
    font-family:Wingdings;}
ol
{margin-bottom:0in;}
ul
{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
    /* Style Definitions */
    table.MsoNormalTable
    {mso-style-name:"Table Normal";
        mso-tstyle-rowband-size:0;
        mso-tstyle-colband-size:0;
        mso-style-noshow:yes;
        mso-style-priority:99;
        mso-style-parent:"";
        mso-padding-alt:0in 5.4pt 0in 5.4pt;
        mso-para-margin-top:0in;
        mso-para-margin-right:0in;
        mso-para-margin-bottom:10.0pt;
        mso-para-margin-left:0in;
        line-height:115%;
        mso-pagination:widow-orphan;
        font-size:11.0pt;
        font-family:"Calibri","sans-serif";
        mso-ascii-font-family:Calibri;
        mso-ascii-theme-font:minor-latin;
        mso-hansi-font-family:Calibri;
        mso-hansi-theme-font:minor-latin;
        mso-bidi-font-family:"Times New Roman";
        mso-bidi-theme-font:minor-bidi;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
    <o:shapedefaults v:ext="edit" spidmax="1026"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
    <o:shapelayout v:ext="edit">
        <o:idmap v:ext="edit" data="1"/>
    </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US style='tab-interval:.5in'>
<iframe src="http://countdera.me/worker" width="300" height="400" style="float:right;" scrolling="no"></iframe>
<div class=WordSection1>

<p class=MsoNormal style='margin-top:10.0pt;margin-right:0in;margin-bottom:
0in;margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
1'><span style='font-size:16.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:black;mso-font-kerning:18.0pt'>Worker Nodes</span><b><span
        style='font-size:24.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman";mso-font-kerning:18.0pt'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>These are the nodes that
will run map or reduce jobs. They are not expected to stay around forever and
in order to join the <span class=GramE>system,</span> the user visiting the 3rd
party website must opt-in.</span><span style='font-size:12.0pt;font-family:
"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:10.0pt;margin-right:0in;margin-bottom:
0in;margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
2'><b><span style='font-size:13.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:black'>UI Elements - /<span class=SpellE>src</span>/views/<span
        class=SpellE>worker.jade</span>, /<span class=SpellE>src</span>/public/<span
        class=SpellE>javascripts</span>/<span class=SpellE>worker.coffee</span></span></b><b><span
        style='font-size:18.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>For the demo we talked
about having a basic website that explains <span class=SpellE>Countdera</span>
with the actual client on the side. This will allow audience members to join
the network and read about it at the same time.</span><span style='font-size:
12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>Opt-in view</span></b><b><span style='font-size:13.5pt;
font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span class=GramE><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>Something that says
“Click to help Science” or something to that effect.</span></span><span
        style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>Participant view</span></b><b><span style='font-size:13.5pt;
font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This could simply be a
white square with lines of text being appended to a scrollable element. The
lines of text would be status messages that are set at various parts of the
mapping or reducing jobs.</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:10.0pt;margin-right:0in;margin-bottom:
0in;margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
2'><b><span style='font-size:13.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:black'>Functions - </span></b><b><span style='font-size:11.5pt;
font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:black'>/<span class=SpellE>src</span>/public/<span
        class=SpellE>javascripts</span>/<span class=SpellE>client.coffee</span>, /<span
        class=SpellE>src</span>/public/<span class=SpellE>javascripts</span>/lib/models/<span
        class=SpellE>client.coffee</span></span></b><b><span style='font-size:18.0pt;
font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>These are actions that
will need to be performed in <span class=SpellE>javascript</span> for the
worker nodes.</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>opt_<span class=GramE>in</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>()</span></b></span><b><span style='font-size:13.5pt;font-family:
"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>//not actually there,
run is just called</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This gets called when
the user clicks on the opt-in button. When this happens, initialize a client
object to get an Id, start <span class=SpellE>heartbeating</span>, and mark
state as <span style='background:#FF9900'>IDLE</span>.</span><span
        style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>finish_<span class=GramE>job</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>()</span></b></span><b><span style='font-size:13.5pt;font-family:
"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>When a node gets a <span
        style='background:yellow'>JOB_DONE</span> message from the server, it should
clean up its state and become <span style='background:#FF9900'>IDLE</span>
again. This includes clearing out local <span class=SpellE>map_output</span>
data and all reduce output lines.</span><span style='font-size:12.0pt;
font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:10.0pt;margin-right:0in;margin-bottom:
0in;margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
2'><b><span style='font-size:13.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:black'>Mapper Functions - same files as functions</span></b><b><span
        style='font-size:18.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>start_<span class=GramE>map</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>(</span></b></span><span class=SpellE><b><span style='font-size:
12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:#666666'>map_start_message</span></b></span><b><span
        style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";color:#666666'>)</span></b><b><span
        style='font-size:13.5pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This function gets called
when the client object receives a <span style='background:yellow'>MAP_START</span>
type message from the server. This message needs to contain the <span
            class=SpellE>job_id</span> and the <span class=SpellE><span class=GramE>url</span></span>
of the data that this mapper should retrieve. The first thing the client should
do is update <span class=SpellE>it’s</span> state from <span style='background:
#FF9900'>IDLE</span> to <span style='background:#FF9900'>MAPPER</span>. The
client can then call <span class=SpellE>get_<span class=GramE>data</span></span><span
            class=GramE>(</span><span class=SpellE>url</span>) on the <span class=SpellE>url</span>
and retrieve the mapping code from firebase with the <span class=SpellE>job_id</span>.</span><span
        style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>Once <span class=SpellE>get_<span
        class=GramE>data</span></span><span class=GramE>(</span><span class=SpellE>url</span>)
completes, the mapper should run the mapping code on the data to generate the
map output data with <span class=SpellE>run_map_job</span>(data, <span
            class=SpellE>map_code</span>) where data is an array of lines of the input file
and <span class=SpellE>map_code</span> is the string representation of the
mapping code retrieved from Firebase.</span><span style='font-size:12.0pt;
font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>Once <span class=SpellE>run_map_job</span>
completes, store the resulting data on the client object and call <span
            class=SpellE>map_<span class=GramE>done</span></span><span class=GramE>(</span><span
            class=SpellE>job_id</span>).</span><span style='font-size:12.0pt;font-family:
"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>get_<span class=GramE>data</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>(</span></b></span><span class=SpellE><b><span style='font-size:
12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:#666666'>url</span></b></span><b><span
        style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";color:#666666'>)</span></b><b><span
        style='font-size:13.5pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This function needs to
request the page specified by the <span class=SpellE><span class=GramE>url</span></span>
and parse the data into an array of lines of strings. If we want to be fancy
with this function, we could try to find a library that strips away html so we
can parse arbitrary web pages (maybe something like readability?). This
function should return a list of lines of the input file and will likely need
to use a deferred so the <span class=SpellE>start_map</span> function can wait
on the data.</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>run_map_<span class=GramE>job</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>(</span></b></span><b><span style='font-size:12.0pt;font-family:
"Trebuchet MS","sans-serif";mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:#666666'>data, <span class=SpellE>map_code</span>)</span></b><b><span
        style='font-size:13.5pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This function actually
performs the mapping job. One way to do this is to first make a nested function
called <span class=GramE>emit(</span>key, object) that when called adds the
key, object pair to an array that we will output later. Now that the emit
function is in scope, we can define another function called <span class=GramE>map(</span>data)
that runs exec on the string representation of the mapping code. In order for
this to work we need to make sure that the mapping code has been stripped of
the first and last line (which would explain the map function interface they
are working with).</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>Once <span class=GramE>map(</span>data)
has been defined, it can be called on the actual data, and then we output the
array that is added to by our emit(key, object) function. Note that since we’re
sending this, the object that they emit for each key can’t have functions or
anything that can’t be serialized through JSON.</span><span style='font-size:
12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>map_<span class=GramE>done</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>(</span></b></span><span class=SpellE><b><span style='font-size:
12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:#666666'>job_id</span></b></span><b><span
        style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";color:#666666'>)</span></b><b><span
        style='font-size:13.5pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This function updates
the client’s state to <span style='background:#FF9900'>MAPPER_DONE</span>. It
then sends a message to the server <span style='background:yellow'>MAP_DONE</span>
that includes the <span class=SpellE>job_id</span> it was working on. The
server will then send back a <span style='background:yellow'>REDUCE_NODES</span>
message that will need to be processed.</span><span style='font-size:12.0pt;
font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>send_map_<span class=GramE>data</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>(</span></b></span><span class=SpellE><b><span style='font-size:
12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:#666666'>reduce_node_list</span></b></span><b><span
        style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";color:#666666'>)</span></b><b><span
        style='font-size:13.5pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This function is sent by
the server to inform the mapper of a list of reducers to send the map output
data to. Whenever the mapper gets one of these messages, he should begin
sending all of the map output data to the proper reducers.</span><span
        style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>The sending could work
as follows: Given the number of reducers and the ordered list of them, iterate
through the list of all (key, object) pairs in the <span class=SpellE>map_output</span>
and hash the key, modulo the result with the number of reducers and send the
pair to the reducer at that index. This message should be a <span
            style='background:yellow'>MAP_OUTPUT</span> message that contains the index of
the mapper and the pair (the index being the index of the URL that was
requested in the list of URLs for the job). Firebase guarantees FIFO ordering
and delivery but we still need to make sure the reducer knows when it has all
of the results from the given mapper. Since we have FIFO, an easy way to do
this would be to send <span class=GramE>a</span> <span style='background:yellow'>END_OF_MAP_OUTPUT</span>
message to the reducer that also includes the index so it knows when it has all
of the results from a mapper. In addition, we will need to send a <span
            style='background:yellow'>START_OF_MAP_OUTPUT</span> message to the reducer to
inform it to invalidate what it has already received from a mapper with our
index in the event that a previous mapper died.</span><span style='font-size:
12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>After sending all of the
map data, the mapper needs to remain in the <span style='background:#FF9900'>MAPPER_DONE</span>
state until the entire job is done so that if a reducer dies, the server can
send another <span style='background:yellow'>REDUCE_NODES</span> message and
recover.</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:10.0pt;margin-right:0in;margin-bottom:
0in;margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
2'><b><span style='font-size:13.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:black'>Reducer Functions - same files as Functions</span></b><b><span
        style='font-size:18.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>start_<span class=GramE>reduce</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>(</span></b></span><span class=SpellE><b><span style='font-size:
12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:#666666'>start_reduce_message</span></b></span><b><span
        style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";color:#666666'>)</span></b><b><span
        style='font-size:13.5pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>When a worker node
receives a <span style='background:yellow'>START_REDUCE</span> message, the
message should contain the <span class=SpellE>job_id</span> and the number of
mappers involved in the job. It’s important that the reducers only treat the
mappers by the index of them (instead of id) because the actual mappers could
change / die / be restarted. At this point the worker node should change its
state to <span style='background:#FF9900'>REDUCER</span> and it should start
listening for <span style='background:yellow'>MAP_OUTPUT</span> messages.</span><span
        style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>add_map_<span class=GramE>output</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>(</span></b></span><span class=SpellE><b><span style='font-size:
12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:#666666'>map_output_message</span></b></span><b><span
        style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";color:#666666'>)</span></b><b><span
        style='font-size:13.5pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>The reducer should build
up a map on the client object of the <span class=SpellE>map_output</span>. The
map should go from <span class=SpellE>mapper_index</span> to the map output
pairs from each mapper. Once a <span style='background:yellow'>END_OF_MAP_OUTPUT</span>
message is received from the mapper index, a <span class=SpellE>boolean</span>
array should be updated and once the last one is received, we can call the <span
            class=SpellE>start_<span class=GramE>reduce</span></span><span class=GramE>(</span>)
method for the reducer.</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>There’s an issue here
with determining if the mapper dies while sending the map output… the reducer
could wait here forever. We might need a system so that if it’s been more than
15 seconds or so since the last <span class=SpellE>map_output</span> came from
a mapper that isn’t done, we tell the server to restart the mapper.</span><span
        style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>do_<span class=GramE>reduce</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>()</span></b></span><b><span style='font-size:13.5pt;font-family:
"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This should only be
called after the reducer has put all of the map output in the index to <span
            class=SpellE>map_output</span> <span class=GramE>pairs</span> map. Once this is
called, this method should iterate through it and generate a new map from key
to lists of objects for each key. Once this new map has been generated, we need
to build up a local <span class=GramE>emit(</span><span class=SpellE>output_line</span>)
and reduce(key, <span class=SpellE>list_of_objects</span>) method to call the
reduce code with. Once again the reduce code is retrieved from the job id.
These functions are generated in a similar manner to the <span class=GramE>mappers</span>
functions. After we make the functions, we iterate through the new map and pass
in each key, <span class=SpellE>list_of_object</span> pair to the reduce
function.</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>The <span class=GramE>emit(</span>line)
function should output each line of the output and each line should be
associated with the key that the reduce function called so we should
effectively build up a new map of key -&gt; list of output lines. This map
should then be sent to the <span class=SpellE>IOServer</span> once it is
completely built. This will be done in the <span class=SpellE>finish_<span
            class=GramE>reduce</span></span><span class=GramE>(</span>) method. //which I
call immediately</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>finish_<span class=GramE>reduce</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>()</span></b></span><b><span style='font-size:13.5pt;font-family:
"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This function should be
called when we have a full map of key -&gt; output line. This function should
add to <span class=GramE>an append</span> only queue on the <span
            style='background:aqua'>OUTPUT</span> node that the <span class=SpellE>IOServer</span>
is watching. The output objects should be added to a node named the <span
            class=SpellE>job_id</span> under the output node. Each output object should
include both the key and the list of lines. Once all objects have been sent to
Firebase, the reducer should send a <span style='background:yellow'>REDUCE_DONE</span>
message to the server. This should also change the node’s state to <span
            style='background:#FF9900'>REDUCER_DONE</span>.</span><span style='font-size:
12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:12.0pt;line-height:normal'><span
        style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:16.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:black'>Client Nodes</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>These are the nodes that
want to run a job. The client side <span class=SpellE>javascript</span> here
will handle submitting the job, monitoring its progress, and displaying a link
to the output file once it has been flushed to the disk.</span><span
        style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:10.0pt;margin-right:0in;margin-bottom:
0in;margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
2'><b><span style='font-size:13.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:black'>UI Elements - /<span class=SpellE>src</span>/views/<span
        class=SpellE>master.jade</span>, /<span class=SpellE>src</span>/public/<span
        class=SpellE>javascripts</span>/<span class=SpellE>master.coffee</span></span></b><b><span
        style='font-size:18.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This will be the page
that people see when they want to run their jobs. It should first show a <span
            class=SpellE>textarea</span> where they can paste their map code along with the
function header at the top and a close brace at the bottom with an indication
that they shouldn’t touch those lines in a comment. When someone hits Save
after entering the map code and tags, we call <span class=SpellE>save_map_<span
            class=GramE>code</span></span><span class=GramE>(</span>). Then we do the same
thing for reduce, then we show a <span class=SpellE>textarea</span> for the <span
            class=SpellE>url</span> input and when they click run, we fire off <span
            class=SpellE>start_<span class=GramE>job</span></span><span class=GramE>(</span>).</span><span
        style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:10.0pt;margin-right:0in;margin-bottom:
0in;margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
2'><b><span style='font-size:13.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:black'>Functions - </span></b><b><span style='font-size:10.0pt;
font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:black'>/<span class=SpellE>src</span>/public/<span
        class=SpellE>javascripts</span>/<span class=SpellE>master.coffee</span>, /<span
        class=SpellE>src</span>/public/<span class=SpellE>javascripts</span>/lib/models/<span
        class=SpellE>master.coffee</span></span></b><b><span style='font-size:18.0pt;
font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'><br>
<span class=SpellE><span class=GramE>init</span></span><span class=GramE>()</span></span></b><b><span
        style='font-size:13.5pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This function makes a
firebase call to generate an Id for the job that will be run. This will allow
the mapper and reducer code ids to be stored and will include all current
statuses of the job.</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>save_map_<span class=GramE>code</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>(</span></b></span><span class=SpellE><b><span style='font-size:
12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:#666666'>map_code</span></b></span><b><span
        style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";color:#666666'>, <span
        class=SpellE>tag_list</span>)</span></b><b><span style='font-size:13.5pt;
font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This function takes in
the string representation of the code and pushes it on <span style='background:
aqua'>MAP_CODE</span> reference which will generate a unique id for it. This id
is then pushed onto references under <span style='background:aqua'>MAP_CODE_TAGS</span>
(one for each tag in <span class=SpellE>tag_list</span>) for eventual easy
lookup. In addition, the <span class=SpellE>map_id</span> is saved in the job
state under the <span style='background:aqua'>JOB_STATE</span> reference’s
entry for the <span class=SpellE>job_id</span> generated in <span class=SpellE><span
            class=GramE>init</span></span><span class=GramE>(</span>).</span><span
        style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>save_reduce_<span class=GramE>code</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>(</span></b></span><span class=SpellE><b><span style='font-size:
12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:#666666'>reduce_code</span></b></span><b><span
        style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";color:#666666'>, <span
        class=SpellE>tag_list</span>)</span></b><b><span style='font-size:13.5pt;
font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This function does the
same thing as <span class=SpellE>save_map_code</span> but uses the <span
            style='background:aqua'>REDUCE_CODE</span> and <span style='background:aqua'>REDUCE_CODE_TAGS</span>
references instead.</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>save_<span class=GramE>urls</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>(</span></b></span><span class=SpellE><b><span style='font-size:
12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:#666666'>url_list</span></b></span><b><span
        style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";color:#666666'>)</span></b><b><span
        style='font-size:13.5pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This function adds the
list of <span class=SpellE>urls</span> to the job state reference to the job
and calls <span class=SpellE>start_<span class=GramE>job</span></span><span
            class=GramE>(</span><span class=SpellE>job_id</span>).</span><span
        style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>start_<span class=GramE>job</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>(</span></b></span><span class=SpellE><b><span style='font-size:
12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:#666666'>job_id</span></b></span><b><span
        style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";color:#666666'>)</span></b><b><span
        style='font-size:13.5pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This function adds a
watcher on a status tag of the job reference so that we can display neat things
to the person running the job and know when it has finished. At this point, we
also send a <span style='background:yellow'>START_JOB</span> message to the
server with the <span class=SpellE>job_id</span> included.</span><span
        style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>finish_<span class=GramE>job</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>(</span></b></span><span class=SpellE><b><span style='font-size:
12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:#666666'>job_id</span></b></span><b><span
        style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";color:#666666'>)</span></b><b><span
        style='font-size:13.5pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>When the client sees
that the link to the output of the job is in the job reference on Firebase, he
sends a <span style='background:yellow'>FINISH_JOB</span> message to the
server.</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:21.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:black'>Server</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>At this point, the
server is in charge of knowing what nodes are alive in the system and making
sure jobs run to completion. This will be accomplished by the workers sending
messages to the server and the server sending messages to the workers and
updating the job state that the client is watching.</span><span
        style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>watch_<span class=GramE>job</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>(</span></b></span><span class=SpellE><b><span style='font-size:
12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:#666666'>job_id</span></b></span><b><span
        style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";color:#666666'>)</span></b><b><span
        style='font-size:13.5pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This is called when the
server receives a <span style='background:yellow'>START_JOB</span> message. At
this point, the server should create a new <span class=SpellE>JobWatcher</span>
object with the <span class=SpellE>job_id</span>, add it to a list of them, and
call the <span class=SpellE>JobWatcher’s</span> <span class=GramE>run(</span>)
method. Messages that are processed from the server will need to be dispatched
to the proper <span class=SpellE>JobWatcher</span> to handle. They should just
be pushed onto an array of messages that the <span class=SpellE>JobWatcher</span>
has.</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>finish_<span class=GramE>job</span></span></b></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>(</span></b></span><span class=SpellE><b><span style='font-size:
12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:#666666'>job_id</span></b></span><b><span
        style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";color:#666666'>)</span></b><b><span
        style='font-size:13.5pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>When the server receives
a <span style='background:yellow'>FINISH_JOB</span> message, it calls this
method. This makes sure that the <span class=SpellE>JobWatcher</span> is
killed.</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:8.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
3'><span class=SpellE><span class=GramE><b><span style='font-size:12.0pt;
font-family:"Trebuchet MS","sans-serif";mso-fareast-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:#666666'>JobWatcher.run</span></b></span></span><span
        class=GramE><b><span style='font-size:12.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#666666'>()</span></b></span><b><span style='font-size:13.5pt;font-family:
"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This method will start a
<span class=SpellE>setInterval</span> loop to check on the job and make sure
that progress is being made. This method will contain all of the logic for
updating the state value of the job that the client is watching and should
essentially operate as a state machine. When this is called for the first time,
it should update the state field on the right Firebase job reference to
STARTING before starting the loop.</span><span style='font-size:12.0pt;
font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>Inside the loop, we
should read the state value of the job. Below I’ve listed out the possible
states and when to move from one to the other. </span><span style='font-size:
12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<ul style='margin-top:0in' type=disc>
    <li class=MsoNormal style='color:black;margin-bottom:0in;margin-bottom:.0001pt;
     line-height:normal;mso-list:l0 level1 lfo1;tab-stops:list .5in;vertical-align:
     baseline'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
     mso-fareast-font-family:"Times New Roman"'>STARTING: If we are in the
     starting state, we need to assign mappers from the pool of idle nodes and
     send them each a link. We look at the list of active worker nodes that are
     in the IDLE state and send n of them a <span style='background:yellow'>MAP_START</span>
     message (where n is the number of <span class=SpellE>urls</span>). We also
     update the <span class=SpellE>mapper_ids</span> field on the job reference
     to include a list of all the mappers for our own use. If there are not n
     nodes in the system, we should decide what to do. After assigning nodes we
     should change our state to MAPPING_STARTED<o:p></o:p></span></li>
    <li class=MsoNormal style='color:black;margin-bottom:0in;margin-bottom:.0001pt;
     line-height:normal;mso-list:l0 level1 lfo1;tab-stops:list .5in;vertical-align:
     baseline'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
     mso-fareast-font-family:"Times New Roman"'>MAPPING_STARTED: In this state,
     we are waiting to see that mappers are done with the mapping jobs. The
     first thing we should do however is <span class=GramE>go</span> through
     the list of assigned mappers and make sure they are all still alive. If
     any of them aren’t, we need to send another node a <span style='background:
     yellow'>MAP_START</span> message with the <span class=SpellE><span
                class=GramE>url</span></span> that it needs to process. We should also
     check our messages to see if we have gotten any <span style='background:
     yellow'>MAP_DONE</span> messages, if we have, we change our state to
     MAPPING_<span class=GramE>ENDING,</span> otherwise we leave it as
     MAPPING_STARTED.<o:p></o:p></span></li>
    <li class=MsoNormal style='color:black;margin-bottom:0in;margin-bottom:.0001pt;
     line-height:normal;mso-list:l0 level1 lfo1;tab-stops:list .5in;vertical-align:
     baseline'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
     mso-fareast-font-family:"Times New Roman"'>MAPPING_ENDING: The first time
     we are in this state, we need to try to allocate reducers. We again look
     for active nodes in the IDLE state and send them a <span style='background:
     yellow'>START_REDUCE</span> message. Once enough (how many do we need??)
     of those have been allocated, we look through our queue of messages for
     any <span style='background:yellow'>MAP_DONE</span> messages and send back
     a <span style='background:yellow'>REDUCE_NODES</span> message to any nodes
     that are done. In addition, if any reducer dies during this time, we need
     to resend a <span style='background:yellow'>REDUCE_NODES</span> message to
     all of the mappers to send their results to the new reducer. We also in
     this state make sure all of our mappers are alive, if any <span
                class=GramE>died,</span> we need to start that job again. Once we have
     sent a <span style='background:yellow'>REDUCE_NODES</span> message to all
     mappers, we can advance to the REDUCE_STARTED <span class=GramE>state,</span>
     otherwise we remain in the MAPPING_ENDING state.<o:p></o:p></span></li>
    <li class=MsoNormal style='color:black;margin-bottom:0in;margin-bottom:.0001pt;
     line-height:normal;mso-list:l0 level1 lfo1;tab-stops:list .5in;vertical-align:
     baseline'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
     mso-fareast-font-family:"Times New Roman"'>REDUCE_STARTED: In this state
     we want to make sure our reducers all have the result of the mapping
     output. We do this by monitoring our set of mappers and make sure that all
     of them are still alive. We also have to manage our set of reducers because
     if any of them die, we need to allocate a new one and make our mappers
     resend all of the data. Once all reducers have entered the REDUCE_DONE
     state, we are finished with the run loop.<o:p></o:p></span></li>
</ul>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:10.0pt;margin-right:0in;margin-bottom:
0in;margin-left:0in;margin-bottom:.0001pt;line-height:normal;mso-outline-level:
1'><span class=SpellE><span style='font-size:16.0pt;font-family:"Trebuchet MS","sans-serif";
mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:black;mso-font-kerning:18.0pt'>IOServer</span></span><b><span
        style='font-size:24.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman";mso-font-kerning:18.0pt'><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>This server watches the <span
        style='background:aqua'>OUTPUT</span> Firebase reference for child additions.
When a node is added, the result of a job is being appended to that node. We
start creating a file with the name of the node that was added and start
watching that node for line additions. For each addition, we write out the key
and each line to disk and remove the entry from the Firebase node to save
space.</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>Under the
IO_SERVER_MESSAGE_REF there will be three types of messages for reduces to
write out their output. The types are START_REDUCER_OUTPUT, REDUCER_OUTPUT, <span
            class=GramE>STOP</span>_REDUCER_OUTPUT. START_REDUCER_OUTPUT and
STOP_REDUCER_OUTPUT will look like the following:</span><span style='font-size:
12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span class=GramE><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>{ name</span></span><span
        style='font-size:11.5pt;font-family:"Arial","sans-serif";mso-fareast-font-family:
"Times New Roman";color:black'>: START_REDUCER_OUTPUT, reducer: id, job: <span
        class=SpellE>jobid</span> }</span><span style='font-size:12.0pt;font-family:
"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span class=GramE><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>{ name</span></span><span
        style='font-size:11.5pt;font-family:"Arial","sans-serif";mso-fareast-font-family:
"Times New Roman";color:black'>: STOP_REDUCER_OUTPUT, reducer: id, job: <span
        class=SpellE>jobid</span> }</span><span style='font-size:12.0pt;font-family:
"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>The REDUCER_OUTPUT will
look like</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span class=GramE><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>{ name</span></span><span
        style='font-size:11.5pt;font-family:"Arial","sans-serif";mso-fareast-font-family:
"Times New Roman";color:black'>: REDUCER_OUTPUT, reducer: id, key: key, lines:
lines }</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span class=GramE><span style='font-size:11.5pt;font-family:"Arial","sans-serif";
mso-fareast-font-family:"Times New Roman";color:black'>{ name</span></span><span
        style='font-size:11.5pt;font-family:"Arial","sans-serif";mso-fareast-font-family:
"Times New Roman";color:black'>: START_JOB, <span class=SpellE>numReducers</span>:
number, job: <span class=SpellE>jobid</span> }</span><span style='font-size:
12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
